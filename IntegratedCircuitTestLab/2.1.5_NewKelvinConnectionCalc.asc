Version 4
SHEET 1 908 792
WIRE 128 16 48 16
WIRE 384 16 288 16
WIRE 48 64 48 16
WIRE 288 64 288 16
WIRE 128 80 128 16
WIRE 176 80 128 80
WIRE 240 80 176 80
WIRE 384 80 384 16
WIRE 448 80 384 80
WIRE 512 80 448 80
WIRE 736 80 592 80
WIRE 192 128 176 128
WIRE 224 128 192 128
WIRE 240 128 224 128
WIRE 48 160 48 144
WIRE 288 160 288 144
WIRE 448 192 272 192
WIRE 512 192 448 192
WIRE 736 192 736 80
WIRE 736 192 592 192
WIRE 736 256 736 192
WIRE 224 272 224 128
WIRE 272 288 272 192
WIRE 224 368 224 352
WIRE 272 384 272 336
WIRE 448 384 272 384
WIRE 512 384 448 384
WIRE 736 384 736 336
WIRE 736 384 592 384
WIRE 448 480 272 480
WIRE 512 480 448 480
WIRE 736 480 736 384
WIRE 736 480 592 480
WIRE 272 528 272 480
FLAG 48 160 0
FLAG 288 160 0
FLAG 224 368 0
FLAG 272 528 0
FLAG 192 128 Vsum
FLAG 176 80 Vin
FLAG 448 80 High_Force
FLAG 448 192 High_Sense
FLAG 448 384 Low_Sense
FLAG 448 480 Low_Force
FLAG 736 80 VH
FLAG 736 480 VL
SYMBOL voltage 48 48 R0
SYMATTR InstName VDAC
SYMATTR Value 1V
SYMBOL e 288 48 R0
SYMATTR InstName EAMP
SYMATTR Value 1E8
SYMBOL e 224 256 M0
SYMATTR InstName ESUM
SYMATTR Value 1.0
SYMBOL Res 608 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RTRACE_H
SYMATTR Value 1
SYMBOL Res 608 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RTRACE_L
SYMATTR Value 1
SYMBOL Res 752 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName RLoad
SYMATTR Value 100
SYMBOL Res 608 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_HighSense
SYMATTR Value 1
SYMBOL Res 608 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_LowSense
SYMATTR Value 1
TEXT 424 560 Left 2 !.tran 10M
TEXT 424 16 Left 2 ;V(High_Force)=a*(Vin-Vsum)
TEXT 80 168 Left 2 ;Vsum=VH-VL
TEXT 440 288 Left 2 ;ILoad=Vsum/Rload
TEXT 152 608 Left 2 ;V(High_Force)=ILoad*(RTRACE_H+RLoad+RTRACE_L)\na*(Vin-Vsum)=ILoad*(RTRACE_H+RLoad+RTRACE_L)\na*(Vin-Vsum)=(Vsum/RLoad)(RTRACE_H+RLoad+RTRACE_L)\na*Vin-a*Vsum=Vsum*(1+RTRACE_H/RLoad+RTRACE_L/RLoad)\na*Vin=Vsum*(1+RTRACE_H/RLoad+RTRACE_L/RLoad+a)\nVsum=a*Vin/(1+RTRACE_H/RLoad+RTRACE_L/RLoad+a)\nVsum=Vin/[(1+RTRACE_H/RLoad+RTRACE_L/RLoad)/a+1]
TEXT 112 -48 Left 2 ;Instrument
RECTANGLE Normal -32 -16 372 560 2
